# 당직표 생성기 (초안)

규칙을 반영한 간단한 4주 당직표 생성기 초안입니다. 정적 파일만으로 작동하므로 GitHub Pages로 바로 호스팅할 수 있습니다.

규칙 요약
- 정규근무: 월–금 8시간 가정(공휴일은 정규근무 없음)
- 당직: 하루 2명, 24시간 근무 가정
- 당일이 평일이면 정규 8h를 당직이 대체(−8h)
- 당직 다음날이 평일이면 정규 오프(−8h), 당직 불가
- 주단위 근무시간(정규 + 당직 − 당일평일 8h − 다음날평일 8h) ≤ 72h

구성
- `index.html`: UI 및 앱 진입점
- `assets/styles.css`: 기본 스타일
- `src/time.js`: 날짜 유틸리티
- `src/scheduler.js`: 스케줄링 엔진
- `src/app.js`: UI 바인딩 및 렌더링

사용 방법 (로컬)
1. 이 폴더를 브라우저에서 `index.html`로 열면 동작합니다.
2. 시작일(기본값: 다음 월요일)과 인원 목록을 입력하고 “당직표 생성”을 클릭.
3. 결과를 표로 확인하고, JSON/CSV로 내보낼 수 있습니다.

입력 형식
- 근무자 목록: `이름, 선호옵션`
  - 선호옵션: `any`(제한없음), `weekday`(평일만 당직), `weekend`(주말/공휴일만 당직)
  - 구분자는 콤마/탭/파이프/두 칸 이상 공백을 지원
- 공휴일: `YYYY-MM-DD` 형식으로 한 줄에 한 개
- 개인별 불가일: `이름: YYYY-MM-DD, YYYY-MM-DD ...` (쉼표/파이프/탭/공백 혼합 허용)
  - 예: `홍길동: 2025-01-07, 2025-01-15` / `김철수: 2025-01-10 | 2025-01-11`

GitHub Pages 배포
1. 이 저장소를 GitHub에 푸시합니다.
2. GitHub 리포지터리 → Settings → Pages → Branch를 `main`(또는 기본 브랜치) / 루트(`/`)로 설정 후 Save.
3. 수 분 후 `https://<username>.github.io/<repo>/`에서 접속 가능합니다.

검증 리포트/통계
- 요약 + 표 형태 리포트: 인원별 선호/당직회수/당직시간/당직편차/총근무시간/총편차를 테이블로 표시합니다.
- 미충원 일수, 제약 위반 경고(72h 초과 시), 평균값 등은 상단 요약과 경고 목록에서 확인할 수 있습니다.
- 인원 목록에 없는 이름으로 불가일이 입력되면 참고 메시지로 표시합니다.
- 충원 우선 모드: 72h 상한을 초과하더라도 배정하여 미충원을 줄이고, 초과 배정은 경고로 표기합니다.

캘린더 표시
- 주말/공휴일은 같은 녹색 톤 배경으로 통일하여 더 높은 가시성을 제공합니다.

UI 도움말
- 미충원 칸에 마우스를 올리면 툴팁으로 미충원 사유(전일 오프/선호 불일치/불가일/72h 제약 등)를 볼 수 있습니다.

참고 사항
- 본 초안은 탐욕적(그리디) 배치로 공평성과 충족성을 우선 고려합니다. 인원 수가 적거나 제약이 빡빡하면 일부 날짜가 미충원될 수 있으며, 이는 빨간 테두리로 표시됩니다.
- 고도화(권장): 개인별 불가일/휴가, 연속 당직 제한, 쿨다운, 페어 제약, 우선순위/가중치 조정, 백트래킹/ILP/CP-SAT 최적화 연동 등
